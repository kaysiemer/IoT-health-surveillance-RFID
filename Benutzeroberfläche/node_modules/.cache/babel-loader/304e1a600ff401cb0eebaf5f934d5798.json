{"remainingRequest":"/Users/nilsdedner/repo/IOT_web/node_modules/babel-loader/lib/index.js!/Users/nilsdedner/repo/IOT_web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/nilsdedner/repo/IOT_web/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/nilsdedner/repo/IOT_web/src/components/Fan/FanTile.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/nilsdedner/repo/IOT_web/src/components/Fan/FanTile.vue","mtime":1621351790244},{"path":"/Users/nilsdedner/repo/IOT_web/node_modules/cache-loader/dist/cjs.js","mtime":1621351331537},{"path":"/Users/nilsdedner/repo/IOT_web/node_modules/babel-loader/lib/index.js","mtime":1621351331109},{"path":"/Users/nilsdedner/repo/IOT_web/node_modules/cache-loader/dist/cjs.js","mtime":1621351331537},{"path":"/Users/nilsdedner/repo/IOT_web/node_modules/vue-loader-v16/dist/index.js","mtime":1621351593914}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCBGYW5TdGF0dXMgZnJvbSAnLi9GYW5TdGF0dXMudnVlJzsKaW1wb3J0IHsgSW9uR3JpZCwgSW9uUm93LCBJb25Db2wgfSBmcm9tICdAaW9uaWMvdnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEZhblN0YXR1cygpOwogICAgc2V0SW50ZXJ2YWwodGhpcy5nZXRGYW5TdGF0dXMsIDUwMDApOyAvL3NldEludGVydmFsKHRoaXMudGVzdCgpLCAzMDAwKQogIH0sCiAgY29tcG9uZW50czogewogICAgRmFuU3RhdHVzOiBGYW5TdGF0dXMsCiAgICBJb25HcmlkOiBJb25HcmlkLAogICAgSW9uUm93OiBJb25Sb3csCiAgICBJb25Db2w6IElvbkNvbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZhbkRhdGE6IDUsCiAgICAgIGZhblN0YXR1czogIkEiLAogICAgICBmYW5Nb2RlOiAiIiwKICAgICAgYnRuU3RhdGU6IGZhbHNlLAogICAgICBidG5GYW5TdGF0ZTogdHJ1ZSwKICAgICAgZmFuQ29sb3I6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRmFuOiBmdW5jdGlvbiB0b2dnbGVGYW4oKSB7CiAgICAgIGlmICh0aGlzLmZhbkNvbG9yID09ICJncmVlbiIpIHsKICAgICAgICB0aGlzLmZhbkNvbG9yID0gInZhcigtLWlvbi1jb2xvci1kYW5nZXIpIjsKICAgICAgICB0aGlzLnNldEZhbk1hbnVlbGxTdGF0dXMoMCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mYW5Db2xvciA9PSAidmFyKC0taW9uLWNvbG9yLWRhbmdlcikiKSB7CiAgICAgICAgdGhpcy5mYW5Db2xvciA9ICJncmVlbiI7CiAgICAgICAgdGhpcy5zZXRGYW5NYW51ZWxsU3RhdHVzKDEpOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlQnRuOiBmdW5jdGlvbiB0b2dnbGVCdG4oKSB7CiAgICAgIHRoaXMuYnRuRmFuU3RhdGUgPSAhdGhpcy5idG5GYW5TdGF0ZTsKCiAgICAgIGlmICh0aGlzLmZhblN0YXR1cyA9PSAiTSIpIHsKICAgICAgICB0aGlzLmZhblN0YXR1cyA9ICJBIjsKICAgICAgICB0aGlzLnNldEZhbk1hbnVlbGxTdGF0dXMoMCk7CiAgICAgICAgdGhpcy5nZXRGYW5TdGF0dXMoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmZhblN0YXR1cyA9PSAiQSIpIHsKICAgICAgICB0aGlzLmZhblN0YXR1cyA9ICJNIjsKICAgICAgfQogICAgfSwKICAgIHNldEZhbk1hbnVlbGxTdGF0dXM6IGZ1bmN0aW9uIHNldEZhbk1hbnVlbGxTdGF0dXMoRmFuU3RhdHVzKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vMTkyLjE2OC42NS4yMDozMDAwL2Zhbi9zZXRTdGF0dXMiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBzdGF0dXM6IEZhblN0YXR1cwogICAgICAgIH0KICAgICAgfSkudGhlbihjb25zb2xlLmxvZygiRmFuIFN0YXR1czogIiArIEZhblN0YXR1cykpOwogICAgfSwKICAgIGdldEZhblN0YXR1czogZnVuY3Rpb24gZ2V0RmFuU3RhdHVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZmFuU3RhdHVzID09ICJBIikgewogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vMTkyLjE2OC42NS4yMDozMDAwL2Zhbi9nZXRTdGF0dXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBfdGhpcy5mYW5EYXRhID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZVswXS5mYW5fc3RhdHVzOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZmFuRGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mYW5TdGF0dXMgPT0gIk0iKSB7CiAgICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly8xOTIuMTY4LjY1LjIwOjMwMDAvZmFuL2dldE1hbnVlbGxTdGF0dXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICBfdGhpcy5mYW5EYXRhID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZVswXS5mYW5fc3RhdHVzOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZmFuRGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0ZXN0OiBmdW5jdGlvbiB0ZXN0KCkgewogICAgICBjb25zb2xlLmxvZygidGVzdCIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZhbk1vZGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZhbkNvbG9yKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBmYW5TdGF0dXM6IGZ1bmN0aW9uIGZhblN0YXR1cygpIHsKICAgICAgaWYgKHRoaXMuZmFuU3RhdHVzID09ICJNIikgewogICAgICAgIHRoaXMuZmFuTW9kZSA9ICJub25lIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmZhblN0YXR1cyA9PSAiQSIpIHsKICAgICAgICB0aGlzLmZhbk1vZGUgPSAiIjsKICAgICAgfQogICAgfSwKICAgIGZhbkRhdGE6IGZ1bmN0aW9uIGZhbkRhdGEoKSB7CiAgICAgIGlmICh0aGlzLmZhbkRhdGEgPT0gMCkgewogICAgICAgIHRoaXMuZmFuQ29sb3IgPSAidmFyKC0taW9uLWNvbG9yLWRhbmdlcikiOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZmFuRGF0YSA9PSAxIHx8IHRoaXMuZmFuRGF0YSA9PSAyKSB7CiAgICAgICAgdGhpcy5mYW5Db2xvciA9ICJncmVlbiI7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/nilsdedner/repo/IOT_web/src/components/Fan/FanTile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <ion-grid style=\"\"> \n            <ion-row>\n                <ion-col size=\"5\">\n                    <button id=\"btn1\" @click=\"toggleBtn\" >\n                        {{fanStatus}}\n                    </button>\n                </ion-col>\n                <ion-col size=\"2\">\n                    <div class=\"divider\"> </div>\n                </ion-col>\n                <ion-col size=\"5\">\n                    <button :disabled=\"btnFanState\" @click=\"toggleFan\" class=\"btn\">\n                        <fan-status :key=\"fanData\" :color=\"fanColor\" :active=\"fanMode\"> </fan-status>    \n                    </button>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n    </div>\n</template>\n<script>\nimport FanStatus from './FanStatus.vue'\nimport {IonGrid,IonRow, IonCol} from '@ionic/vue'\nexport default {\n    created(){\n        this.getFanStatus()\n        setInterval(this.getFanStatus, 5000)\n        //setInterval(this.test(), 3000)\n    },\n    components:{\n        FanStatus,\n        IonGrid,\n        IonRow,\n        IonCol\n    },\n    data(){\n        return{\n            fanData: 5,\n            fanStatus: \"A\",\n            fanMode: \"\",\n            btnState: false,\n            btnFanState: true,\n            fanColor: \"\"\n        }\n    },\n    methods:{\n        toggleFan(){\n            if (this.fanColor == \"green\" ){\n                this.fanColor = \"var(--ion-color-danger)\"\n                this.setFanManuellStatus(0)\n            }\n            else if (this.fanColor == \"var(--ion-color-danger)\"){\n                this.fanColor = \"green\"\n                this.setFanManuellStatus(1)\n            }\n        },\n        toggleBtn(){\n            this.btnFanState = !this.btnFanState\n            if (this.fanStatus == \"M\"){\n                this.fanStatus = \"A\"\n                this.setFanManuellStatus(0)\n                this.getFanStatus()\n            }\n            else if (this.fanStatus == \"A\"){\n                this.fanStatus = \"M\"\n            }\n        },\n        setFanManuellStatus(FanStatus){\n            this.$http.get(\"http://192.168.65.20:3000/fan/setStatus\",{ params: { status: FanStatus } }).then(console.log(\"Fan Status: \" + FanStatus))\n        },\n        getFanStatus(){\n            if (this.fanStatus == \"A\"){\n                this.$http.get(\"http://192.168.65.20:3000/fan/getStatus\").then((response) => {\n                console.log(response.data)\n                this.fanData = response.data.response[0].fan_status\n                console.log(this.fanData)\n            })\n            }\n            else if(this.fanStatus == \"M\"){\n                this.$http.get(\"http://192.168.65.20:3000/fan/getManuellStatus\").then((response) => {\n                console.log(response.data)\n                this.fanData = response.data.response[0].fan_status\n                console.log(this.fanData)\n                })\n            }\n            \n        },\n        test(){\n            console.log(\"test\")\n            console.log(this.fanMode)\n            console.log(this.fanColor)\n        }\n    },\n    watch:{\n        fanStatus: function(){\n            if(this.fanStatus == \"M\"){\n                this.fanMode = \"none\"\n            }\n            else if (this.fanStatus == \"A\"){\n                this.fanMode = \"\"\n            }\n        },\n        fanData: function(){\n            if (this.fanData == 0){\n                this.fanColor = \"var(--ion-color-danger)\"\n            }\n            else if (this.fanData == 1 || this.fanData == 2){\n                this.fanColor = \"green\"\n            }\n        }\n    }\n}\n</script>\n<style scoped>\n.wrapper{\n    background-color: grey;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n}\n.divider{\n    left: 40%;\n    width: 20%;\n    height: 80%;\n    border-left: medium solid black;\n    position: absolute;\n    z-index: 2;\n    \n}\n.center {\n  margin: auto;\n  width: 100%;\n}\n.btn{\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0;\n    background-color: transparent;\n    border: none;\n}\n.btn:active{\n\tbackground: var(--ion-color-medium-shade);\n\ttransition: all 0.4s ease 0s;\n}\nbutton{\n    height: 100%;\n    width: 100%;\n    color: #494949 !important;\n    text-transform: uppercase;\n    font-size: 25px;\n\ttext-decoration: none;\n\tbackground:  var(--ion-color-primary-contrast);\n\tborder: 4px solid var(--ion-color-dark-tint) ;\n\tdisplay: inline-block;\n\ttransition: all 0.4s ease 0s;\n}\nbutton:active{\n    color: #ffffff !important;\n\tbackground: var(--ion-color-primary);\n\tborder-color: var(--ion-color-primary) !important;\n\ttransition: all 0.4s ease 0s;\n}\n</style>"],"sourceRoot":""}]}